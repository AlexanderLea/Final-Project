<!DOCTYPE html>
<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
<script>
$(function(){
        $.getJSON("http://localhost:3000/api/communicationlog", function(result){
            $.each(result, function(i, row){
            //"message_direction":"direction","message_from":"from","message_contents":"contents","comms_log_type":1
            	var tableRow = $("<tr><td>" + row.log_id + "</td><td>"
            		+ row.timestamp+"</td><td> "
            		+ row.message_direction + "</td><td> "
            		+ row.message_from + "</td><td>" 
            		+ row.message_contents + "</td><td>" 
            		+ row.comms_log_type + "</td></tr>");
                
                $("#table").append(tableRow);
            });
        });
});
</script>
</head>
<body>
<h1>Communication Log</h1>

<table id="table" class="table">
	<tr>
		<th>ID</th>
		<th>Timestamp</th>	
		<th>Direction</th>			
		<th>From</th>
		<th>Message</th>		
		<th>Log Type (2=err)</th>								
	</tr>	
</table>
</body>
</html>

